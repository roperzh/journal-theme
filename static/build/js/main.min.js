function CustomEvent(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}window.Essential={rootElement:document,Core:{},start:function(a){this.loadBehaviors({application:a})},loadBehaviors:function(a){a.context=a.context||this.rootElement;var b=this.initializeBehaviors(a.application,a.context);this.launchBehaviors(b)},initializeBehaviors:function(a,b){for(var c=this.Core.crawl(b),d=Object.keys(c),e=[],f=-1;d[++f];){var g=d[f],h=this.Core.camelize(g),i=a[h];if("undefined"!=typeof i)for(var j=c[g],k=-1;j[++k];){var l=i["new"](j[k],!0);e.push(l)}}return e},launchBehaviors:function(a){for(var b=a.sort(this.Core.SortMethods.byPriority),c=-1;b[++c];)b[c].start()}},Object.getOwnPropertyDescriptors||(Object.getOwnPropertyDescriptors=function(a){var b={};return Object.getOwnPropertyNames(a).forEach(function(c){b[c]=Object.getOwnPropertyDescriptor(a,c)}),b});var Proto={"new":function(){var a=Object.create(this);return a.constructor&&a.constructor.apply(a,arguments),a},extend:function(a){var b=Object.create(this,Object.getOwnPropertyDescriptors(a));return b["super"]=this,b}};Function.prototype.extend=function(a){var b=this,c=Proto.extend.call(b.prototype,Proto);return c.extend(a)},CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent,Essential.Behavior=Proto.extend({constructor:function(a,b){this.el=a,b||this.start()},start:function(){this.delegateEvents(),this.listenChannels(),"function"==typeof this.init&&this.init()},delegateEvents:function(){Essential.Core.mapEvents.call(this,this.events,this.el)},listenChannels:function(){Essential.Core.mapEvents.call(this,this.channels,document)},emit:function(a){a.context=a.context||this.el,a.data=a.data||{},a.bubbles=a.bubbles||!0,a.cancelable=a.cancelable||!1;var b=new CustomEvent(a.channel,{bubbles:a.bubbles,cancelable:a.cancelable,detail:a.data});a.context.dispatchEvent(b)},priority:0}),Essential.Core.mapEvents=function(a,b){if("undefined"!=typeof a){var c=/^(\S+)\s*(.*)$/;for(var d in a){var e=a[d],f=d.match(c),g=f[1],h=f[2],i=h?b.querySelectorAll(h):[b];"undefined"!=typeof this[e]&&Essential.Core.bind(g,i,this[e].bind(this))}}},Essential.Core.bind=function(a,b,c){for(var d=-1;b[++d];){var e=b[d];e.addEventListener?b[d].addEventListener(a,c):e.attachEvent("on"+a,c)}},Essential.Core.SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,Essential.Core.FIRST_LETTER_REGEXP=/^[a-z]/g,Essential.Core.camelize=function(a){return a.replace(Essential.Core.FIRST_LETTER_REGEXP,function(a){return a.toUpperCase()}).replace(Essential.Core.SPECIAL_CHARS_REGEXP,function(a,b,c){return c.toUpperCase()})},Essential.Core.crawl=function(a){for(var b=a.querySelectorAll("[data-behavior], [behavior]"),c=-1,d={};b[++c];)for(var e=b[c],f=e.getAttribute("data-behavior")||e.getAttribute("behavior"),g=f.split(" "),h=-1;g[++h];){var i=g[h];d[i]?d[i].push(e):d[i]=[e]}return d},Essential.Core.SortMethods={byPriority:function(a,b){return b.priority-a.priority}},Journal={},Journal.Behaviors={},Journal.Services={},document.addEventListener("DOMContentLoaded",function(){Essential.loadBehaviors({application:Journal.Behaviors,context:document})});